<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T470HXGPQZ"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-T470HXGPQZ');
  </script>
  <title>Horario | Raulaltillo </title>
  <meta name="description" content="Obtén información sobre el horario de tu clase" />
  <link rel="icon" href="../favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="../main.css">
  <meta name="color-scheme" content="light only">
  <style>
    .column {
    border-radius: 15px; /* Rounded corners */
    padding: 10px; /* Padding inside the columns */
    flex: 1; /* Ensure columns take equal width */
    margin:1px
}

.row {
    display: flex;
    justify-content: space-between; /* Distribute columns evenly */
}
  </style>
</head>
<body>
  <div class="topnav">
    <a href="./horario.html" class="active" >Horario</a>
    <a href="./menu.html">Menu</a>
    <a href="./book_answers.html">Respuestas Libros</a>
    <a href="./selectividad.html">Selectividad</a>
    <p class="title">RAULALTILLO</p>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdnBjqzIB08Ad6J5D6hyBe0z33kqKwkunFWNIXyWWmJCmnFjw/viewform?usp=sf_link" class="feedback-btn">Feedback</a>
    <!--<a href="pages/coding_answers.html">Coding/CS</a>-->
  </div>
  <br>
  <br>
  <br>
  <div style="border: solid 15px #000000; border-radius: 10px; padding:20; margin:20px">
  <div id="scheduleContainer" style="display: none;">
    <div id="schedule"></div>
</div>
  <div style="text-align: center; margin: 20px;">
    <label for="classSelect" style="font-size: 2em;">Clase:</label>
    <select id="classSelect" onchange="selectClass()" style="font-size: 2em;">
      <option value="">--Seleccionar Clase--</option>
      <option value="Salud Lomloe">Salud Lomloe</option>
      <option value="Salud IB">Salud IB</option>
      <option value="Tecnologico Lomloe">Tecnologico Lomloe</option>
      <option value="Tecnologico IB">Tecnologico IB</option>
      <option value="Sociales Lomloe">Sociales Lomloe</option>
      <option value="Sociales IB">Sociales IB</option>
      
    </select>
    
  <br>
  <br>
  <label for="colorSelect" style="font-size:2em">Color:</label>
  <input type="color" id="colorSelect" oninput="changeColor()" style="font-size:2em">
  <p>Esta seleccion se guarda entre sesiones</p>
</div>
</div>
  <script defer type="text/javascript">
function LightenDarkenColor(col, amt) {
    let usePound = false;

    if (col[0] === "#") {
        col = col.slice(1);
        usePound = true;
    }

    let num = parseInt(col, 16);

    let r = (num >> 16) + amt;
    if (r > 255) r = 255;
    else if (r < 0) r = 0;

    let g = ((num >> 8) & 0x00FF) + amt;
    if (g > 255) g = 255;
    else if (g < 0) g = 0;

    let b = (num & 0x0000FF) + amt;
    if (b > 255) b = 255;
    else if (b < 0) b = 0;

    let newColor = (r << 16) | (g << 8) | b;
    return (usePound ? "#" : "") + newColor.toString(16).padStart(6, "0");
}

const classes={ 
     "Salud Lomloe":[["Filosofia", "Biologia", "Ingles", "", "TIC", "Fisica", "", "Frances", "Deporte"],
                    ["Biologia", "Frances", "PS", "", "Lengua", "Mates", "", "ToK", "Ingles"],
                    ["Lengua", "Fisica", "TIC", "", "Deporte", "Filosofia", "", "Mates", "Ingles"],
                    ["Mates", "ToK/CAS", "Fisica", "", "Ingles", "Filosofia", "", "Biologia", "Lengua"],
                    ["Lengua", "Biologia", "Fisica", "", "TIC", "PS", "", "Mates", "Ingles"]], 
     "Salud IB":[["Frances", "Mngrf/CAS", "Ingles", "", "Mates", "Fisica", "", "Deporte", "Biologia"],
                    ["Lengua", "Deporte", "Frances", "", "Mates", "Biologia", "", "PS", "Ingles"],
                    ["Mates", "Fisica", "Lengua", "", "Biologia", "SAS", "", "Frances", "Ingles"],
                    ["ToK", "Biologia", "Fisica", "", "Ingles", "Mates", "", "SAS", "Lengua"],
                    ["Tok", "SAS", "Fisica", "", "PS", "Frances", "", "Lengua", "Ingles"]], 
     "Tecnologico Lomloe":[["PS", "DT", "Ingles", "", "Lengua", "Mates", "", "Frances", "Fisica"],
                    ["TIC", "Frances", "ToK/CAS", "", "Lengua", "Filosofia", "", "Mates", "Ingles"],
                    ["DT", "Deporte", "Fisica", "", "TIC", "Mates", "", "PS", "Ingles"],
                    ["Filosofia", "TIC", "Lengua", "", "Ingles", "Fisica", "", "ToK", "DT"],
                    ["DT", "Fisica", "Lengua", "", "Mates", "Filosofia", "", "Deporte", "Ingles"]],
      "Tecnologico IB":[["DT", "Mngrf/CAS", "Ingles", "", "Mates", "SD", "", "Frances", "Fisica"],
                    ["Lengua", "Frances", "SD", "", "Mates", "DT", "", "Deporte", "Ingles"],
                    ["Mates", "DT", "Lengua", "", "Fisica", "SAS", "", "SD", "Ingles"],
                    ["ToK", "Fisica", "SD", "", "Ingles", "Mates", "", "SAS", "Lengua"],
                    ["ToK", "SAS", "Fisica", "", "Deporte", "DT", "", "Lengua", "Ingles"]],
      "Sociales Lomloe":[["Lengua", "PS", "Ingles", "", "Historia", "TIC", "", "Frances", "Mates"],
                    ["Economia", "Frances", "TIC", "", "Filosofia", "Historia", "", "Lengua", "Ingles"],
                    ["Lengua", "TIC", "PS", "", "Economia", "Mates", "", "ToK", "Ingles"],
                    ["Mates", "Lengua", "Filosofia", "", "Ingles", "Historia", "", "Deporte", "Economia"],
                    ["Historia", "Economia", "ToK/CAS", "", "Mates", "Deporte", "", "Filosofia", "Ingles"]],
      "Sociales IB":[["Frances", "Mates", "Ingles", "", "Historia", "Gestion", "", "Deporte", "Lengua"],
                    ["Gestion", "Deporte", "Frances", "", "SAS", "Historia", "", "PS", "Ingles"],
                    ["SAS", "ToK", "Mates", "", "Gestion", "Lengua", "", "Frances", "Ingles"],
                    ["Lengua", "ToK", "SAS", "", "Ingles", "Historia", "", "Mates", "Gestion"],
                    ["Historia", "Lengua", "Mates", "", "PS", "Frances", "", "Mngrf/CAS", "Ingles"]],
};
    const days = ["Lunes", "Martes", "Miercoles", "Jueves", "Viernes"];
    var defaultColor = "#2d9e00"; // Default color if no color is saved
    var selectedColor = localStorage.getItem("selectedColor") || defaultColor;

    const colors = (baseColor) => [
        baseColor,
        LightenDarkenColor(baseColor, 15),
        LightenDarkenColor(baseColor, 30),
        LightenDarkenColor(baseColor, 45),
        LightenDarkenColor(baseColor, 60),
    ];

    function changeColor() {
    const newColor = document.getElementById("colorSelect").value;
    localStorage.setItem("selectedColor", newColor);
    updateScheduleColors(newColor);
}
    function updateScheduleColors(baseColor) {
        const updatedColors = colors(baseColor);
        const selectedClass = document.getElementById("classSelect").value;
        if (selectedClass) {
            const classSchedule = classes[selectedClass];
            document.getElementById("schedule").innerHTML = generateScheduleHTML(classSchedule, updatedColors);
        }
    }

    function generateDayColumn(day, subjects, color) {
    return `
        <div class="column" style="background-color:${color};">
            <h3 style="font-family:Hacked">${day}</h3>
            <pre>${subjects.join("\n")}</pre>
        </div>`;
}

    function generateScheduleHTML(classSchedule, colorPalette = colors(document.getElementById("colorSelect").value)) {
        return `<div class="row">
            ${classSchedule.map((subjects, index) => generateDayColumn(days[index], subjects, colorPalette[index])).join("")}
        </div>`;
    }

    function selectClass() {
        const selectedClass = document.getElementById("classSelect").value;
        if (selectedClass) {
            localStorage.setItem("selectedClass", selectedClass);
            displayClassSchedule(selectedClass);
        }
    }

    function displayClassSchedule(className) {
        const classSchedule = classes[className];
        document.getElementById("schedule").innerHTML = generateScheduleHTML(classSchedule);
        document.getElementById("scheduleContainer").style.display = "block";
    }

    window.onload = function() {
        const savedClass = localStorage.getItem("selectedClass");
        const savedColor = localStorage.getItem("selectedColor") || defaultColor;
        document.getElementById("colorSelect").value = savedColor;

        if (savedClass) {
            document.getElementById("classSelect").value = savedClass;
            displayClassSchedule(savedClass);
        }
        updateScheduleColors(savedColor);
    };
    </script>


</body>
