<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T470HXGPQZ"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-T470HXGPQZ');
    </script>
    <title>Menu Altillo</title>
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../main.css">
    <meta name="color-scheme" content="light only">
    <title>Horario de 1 Bach | Raulaltillo </title>
    <meta name="description" content="Busca aqui tu horario de clase, disponible en cualquier momento y en cualquier dispositivo" />
</head>
<body>
  <div class="topnav">
    <a href="./horario.html">Horario</a>
    <a class="active" href="#">Menu</a>
    <a href="./book_answers.html">Respuestas Libros</a>
    <a href="./selectividad.html">Selectividad</a>
    <a href="./examenes.html">Examenes</a>
    <p class="title">RAULALTILLO</p>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdnBjqzIB08Ad6J5D6hyBe0z33kqKwkunFWNIXyWWmJCmnFjw/viewform?usp=sf_link" class="feedback-btn">Feedback</a>
    <!--<a href="pages/coding_answers.html">Coding/CS</a>-->
  </div>
  <br>
  <br>
  <br>
  <br>
<center>

  <h1 style="color:#000000; font-size: 300%;font-family: Hacked;" id="menu">Menu</h1>
  <pre style="font-size: 175%;", id="todaydata">Algo ha fallado</pre>
  <img src="../images/menu.png" width="1000px" style="border: solid 15px #000000; border-radius: 10px;">
</center>
<script>
  const menu = {
  "Lunes 3 Mar": [
    "Espaguetis con gambas",
    "Albóndigas marroquíes con especias",
    "Fruta del tiempo"
  ],
  "Martes 4 Mar": [
    "Arroz con pollo",
    "Fogonero a la plancha con verduras al horno",
    "Fruta del tiempo"
  ],
  "Miércoles 5 Mar": [
    "Crema de calabaza",
    "Huevo frito con patatas (revuelto de champiñones)",
    "Fruta del tiempo"
  ],
  "Jueves 6 Mar": [
    "Cocido madrileño",
    "Pizza",
    "Natillas"
  ],
  "Viernes 7 Mar": [
    "Lentejas estofadas",
    "Pescadito de la Bahía con ensalada",
    "Fruta del tiempo"
  ],
  "Lunes 10 Mar": [
    "Crema de calabacín",
    "Pollo guisado con patatas panaderas",
    "Fruta del tiempo"
  ],
  "Martes 11 Mar": [
    "Berza jerezana",
    "Huevos rellenos (huevos con tomate). Lechuga y maíz",
    "Yogur"
  ],
  "Miércoles 12 Mar": [
    "Fideuá de marisco",
    "Lomo de cerdo plancha (hamburguesa). Pimientos asados",
    "Fruta del tiempo"
  ],
  "Jueves 13 Mar": [
    "Ensalada completa (Lentejas con chorizo)",
    "Carne mechada con arroz salteado",
    "Fruta del tiempo"
  ],
  "Viernes 14 Mar": [
    "Arroz con tomate",
    "Merluza a la plancha. Coliflores",
    "Fruta del tiempo"
  ],
  "Lunes 17 Mar": [
    "Espaguetis boloñesa",
    "Fogonero a la plancha. Verduras al horno",
    "Fruta del tiempo"
  ],
  "Martes 18 Mar": [
    "Patatas con chocos",
    "Lomo de cerdo plancha (adobado). Ensalada",
    "Fruta del tiempo"
  ],
  "Miércoles 19 Mar": [
    "Crema de brócoli",
    "Pavo guisado con patatas panaderas",
    "Fruta del tiempo"
  ],
  "Jueves 20 Mar": [
    "(Menú Japonés) Ramen de verduras",
    "Katsu-Kare de lomo. Arroz salteado",
    "Flan de bizcocho casero"
  ],
  "Viernes 21 Mar": [
    "Lentejas estofadas",
    "Revuelto de pimientos y patatas",
    "Fruta del tiempo"
  ],
  "Lunes 24 Mar": [
    "Sopa de fideos",
    "Pollo empanado con champiñones",
    "Fruta del tiempo"
  ],
  "Martes 25 Mar": [
    "Crema de verduras variadas",
    "Pizza (cerdo guisado con arroz salteado)",
    "Fruta del tiempo"
  ],
  "Miércoles 26 Mar": [
    "Ensalada de pasta (macarrones con tomate)",
    "Tortilla de patatas con judías verdes",
    "Fruta del tiempo"
  ],
  "Jueves 27 Mar": [
    "Ensalada completa (lentejas estofadas)",
    "Pollo al horno con patatas fritas",
    "Fruta del tiempo"
  ],
  "Viernes 28 Mar": [
    "Arroz tres delicias",
    "Caella al limón. Picadillo de tomate y patatas",
    "Fruta del tiempo"
  ]
};
  function getFormattedDate() {
    const daysOfWeek = ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"];
    const months = ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"];
    
    const today = new Date();
    const dayOfWeek = daysOfWeek[today.getDay()];
    const day = today.getDate();
    const month = months[today.getMonth()];

    return `${dayOfWeek} ${day} ${month}`;
  }
  function parseSpanishDate(dateString) {
    const months = {
        'Ene': 0,  // January
        'Feb': 1,  // February
        'Mar': 2,  // March
        'Abr': 3,  // April
        'May': 4,  // May
        'Jun': 5,  // June
        'Jul': 6,  // July
        'Ago': 7,  // August
        'Sep': 8,  // September
        'Oct': 9,  // October
        'Nov': 10, // November
        'Dic': 11  // December
    };

    const [weekday, day, month] = dateString.split(" ");

    const currentYear = new Date().getFullYear();

    // Create a Date object
    const date = new Date(currentYear, months[month], parseInt(day), 23, 59);

    return date;
}

  function getTodaysMenu() {
    const today = getFormattedDate();
    const todayDate = new Date();
    const isWeekend = (todayDate.getDay() === 0 || todayDate.getDay() === 6);

    if (new Date() > parseSpanishDate(Object.keys(menu).pop())) {
      return `Menú de hoy (${today}):\n\nDatos no disponibles (desactualizado)`;
    } else if (isWeekend) {
      return `Menú de hoy (${today}):\n\nNo hay menú disponible hoy`;
    } else if (menu[today]) {
      return `Menú de hoy (${today}):\n\n${menu[today].join('\n')}`;
    } else {
      return `Menú de hoy (${today}):\n\nNo hay datos disponibles`;
    }
  }


    document.getElementById("todaydata").innerHTML = getTodaysMenu();
</script>
</div>
</body>
