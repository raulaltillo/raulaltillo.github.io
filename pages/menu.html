<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T470HXGPQZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T470HXGPQZ');
</script>
    <title>Menu Altillo</title>
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../main.css">
    <title>Horario de 1 Bach | Raulaltillo </title>
    <meta name="description" content="Mira aqui el menu del dia" />
</head>
<body>
  <div class="topnav">
    <img class="title" id="weather-icon"  src="../images/weather-icon-illustration03-Graphics-10205167-1.png" alt="Clima actual" width="50px">
    <a href="./horario.html">Horario</a>
    <a class="active" href="#">Menu</a>
    <!--<a href="./book_answers.html">Respuestas Libros</a>--->
    <a href="./selectividad.html">Selectividad</a>
        <a href="./herramientas.html">Herramientas</a>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdnBjqzIB08Ad6J5D6hyBe0z33kqKwkunFWNIXyWWmJCmnFjw/viewform?usp=sf_link" class="feedback-btn">Feedback</a>
    <!--<a href="pages/coding_answers.html">Coding/CS</a>-->
  </div>
  <div id="weatherIframeContainer" class="weather-iframe-container">
  <iframe name="iframe_aemet_id33044" src="https://www.aemet.es/es/eltiempo/prediccion/municipios/mostrarwidget/jerez-de-la-frontera-id11020?w=g4p011100000ohmffffffx000000t999999r1s8n2" scrolling="no"></iframe>
</div>
  <div id="content">
  <br>
  <br>
  <br>
  <br>
<center>
  <pre style="font-size: 200%;color: #ffffff;font-family: Verdana;font-weight:bold;", id="todaydata">Algo ha fallado</pre>
  <img src="../images/menu.png" width="90%" style="border: solid 15px #aeaeae; border-radius: 10px;">
  <br>
  <a href="http://10.71.36.212:1234">???</a>
  <br>
  <br>
    <a href="../images/image.png">???</a>
</center>
<script>
const menu = {
  "Lunes 3 Nov": ["Patatas con alcachofas", "Pavo guisado con champiñones", "Fruta del tiempo"],
  "Martes 4 Nov": ["Arroz con tomate", "Fogonero a la plancha con ensalada", "Fruta del tiempo"],
  "Miércoles 5 Nov": ["Crema de calabaza", "Pizza (revuelto de jamón y champiñones)", "Fruta del tiempo"],
  "Jueves 6 Nov": ["Espaguetis con gambas (sopa de fideos)", "Merluza frita con verduras al horno", "Natillas"],
  "Viernes 7 Nov": ["Lentejas estofadas", "Tortilla de patatas. Coliflores salteadas", "Fruta del tiempo"],

  "Lunes 10 Nov": ["Macarrones con tomate y queso rallado", "Caella al limón con verduras a la plancha", "Fruta del tiempo"],
  "Martes 11 Nov": ["Patatas con chocos", "Pollo empanado con ensalada", "Yogur"],
  "Miércoles 12 Nov": ["Crema de puerros", "Merluza a la plancha con patatas panaderas", "Fruta del tiempo"],
  "Jueves 13 Nov": ["Berza jerezana", "Tortilla de calabacín. Judías verdes", "Fruta del tiempo"],
  "Viernes 14 Nov": ["Ensalada completa (crema de zanahorias)", "Pollo guisado. Boniato asado", "Fruta del tiempo"],

  "Lunes 17 Nov": ["Arroz tres delicias (arroz con verduras)", "Lomo de cerdo a la plancha (albóndigas). Pisto", "Fruta del tiempo"],
  "Martes 18 Nov": ["Ensalada mixta con atún (sopa de fideos)", "Huevo frito con patatas (revuelto de patatas)", "Fruta del tiempo"],
  "Miércoles 19 Nov": ["Lentejas con chorizo", "Fogonero a la plancha. Ensalada de lechuga y maíz", "Fruta del tiempo"],
  "Jueves 20 Nov": ["Chili con carne y totopos de pan frito", "Sincronizada de jamón y queso", "Tarta de 3 leches"],
  "Viernes 21 Nov": ["Espaguetis carbonara", "Carne de cerdo en salsa con zanahorias y guisantes", "Fruta del tiempo"],

  "Lunes 24 Nov": ["Ensalada de pasta (fideos con almejas)", "Hamburguesa de ternera. Menestra de verduras", "Fruta del tiempo"],
  "Martes 25 Nov": ["Paella de carne", "Fogonero a la plancha. Tomate aliñado", "Yogur"],
  "Miércoles 26 Nov": ["Cocido madrileño", "Revuelto de patatas, jamón y champiñones", "Fruta del tiempo"],
  "Jueves 27 Nov": ["Crema de calabaza", "Pavo asado con salsa de frambuesas y puré de patatas", "Tarta de manzana"],
  "Viernes 28 Nov": ["Ensalada completa (crema de puerros)", "Canelones (lomo adobado con patatas fritas)", "Fruta del tiempo"]
};
  function getFormattedDate() {
    const daysOfWeek = ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"];
    const months = ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sept", "Oct", "Nov", "Dic"];
    
    const today = new Date();
    const dayOfWeek = daysOfWeek[today.getDay()];
    const day = today.getDate();
    const month = months[today.getMonth()];

    return `${dayOfWeek} ${day} ${month}`;
  }
  function parseSpanishDate(dateString) {
    const months = {
        'Ene': 0,  // January
        'Feb': 1,  // February
        'Mar': 2,  // March
        'Abr': 3,  // April
        'May': 4,  // May
        'Jun': 5,  // June
        'Jul': 6,  // July
        'Ago': 7,  // August
        'Sept': 8,  // September
        'Oct': 9,  // October
        'Nov': 10, // November
        'Dic': 11  // December
    };

    const [weekday, day, month] = dateString.split(" ");

    const currentYear = new Date().getFullYear();

    // Create a Date object
    const date = new Date(currentYear, months[month], parseInt(day), 23, 59);

    return date;
}

  function getTodaysMenu() {
    const today = getFormattedDate();
    const todayDate = new Date();
    const isWeekend = (todayDate.getDay() === 0 || todayDate.getDay() === 6);

    if (new Date() > parseSpanishDate(Object.keys(menu).pop())) {
      return `Menú de hoy (${today}):\n\nDatos no disponibles (desactualizado)`;
    } else if (isWeekend) {
      return `Menú de hoy (${today}):\n\nNo hay menú disponible hoy`;
    } else if (menu[today]) {
      return `Menú de hoy (${today}):\n\n${menu[today].join('\n')}`;
    } else {
      return `Menú de hoy (${today}):\n\nNo hay datos disponibles`;
    }
  }


    document.getElementById("todaydata").innerHTML = getTodaysMenu();
</script>
</div>
<script async src="../scripts/fade.js"></script>


</body>
